<app-header></app-header>

<main>
  <header class="resale-header">
    <h1>Anúncios</h1>
    <div class="resale-header-buttons">
      <button type="button" class="btn btn-lg btn-export" (click)="export()">
        <i class="bi bi-file-earmark-plus"> </i> Exportar
      </button>
      <button
        type="button"
        class="btn btn-lg btn-adc"
        data-bs-toggle="modal"
        data-bs-target="#exampleModal"
      >
        <i class="bi bi-file-earmark-plus"></i> Cadastrar novo carro
      </button>
    </div>
  </header>

  <!-- Modal adicionar -->
  <div
    class="modal fade"
    id="exampleModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content bg-dark">
        <div class="modal-header">
          <h1 class="modal-title fs-5 title-modal">Cadastrar Carro</h1>
        </div>
        <div class="modal-body">
          <form [formGroup]="form">
            <div id="inicio" class="input-group mb-3 inputs">
              <label
                >Modelo:

                <input
                  type="text"
                  class="form-control"
                  placeholder="Qual o modelo do carro?"
                  formControlName="modelo"
                  name="modelo"
                  required
                />
                <p
                  class="mensagem-erro"
                  role="alert"
                  *ngIf="errors && errors.errors && errors.errors['Modelo']"
                >
                  informe um modelo de carro.
                </p>
              </label>
              <label>
                Preço:
                <input
                  type="text"
                  class="form-control"
                  placeholder="Qual o preço do carro?"
                  formControlName="preco"
                  name="preco"
                  required
                />
                <p
                  class="mensagem-erro"
                  role="alert"
                  *ngIf="errors && errors.errors && errors.errors['$.preco']"
                >
                  informe um valor válido.
                </p>
                <p
                  class="mensagem-erro"
                  role="alert"
                  *ngIf="errors && errors.errors && errors.errors['Preco']"
                >
                  O valor tem que ser maior que 0.
                </p>
              </label>
              <label>
                Ano:
                <input
                  type="text"
                  class="form-control"
                  placeholder="Qual o ano do carro?"
                  formControlName="ano"
                  name="ano"
                  required
                />
                <p
                  class="mensagem-erro"
                  role="alert"
                  *ngIf="errors && errors.errors && errors.errors['$.ano']"
                >
                  informe uma data válida.
                </p>
                <p
                  class="mensagem-erro"
                  role="alert"
                  *ngIf="errors && errors.errors && errors.errors['Ano']"
                >
                  informe um ano entre 1950 e 2025
                </p>
              </label>
              <label>
                Portas
                <input
                  type="text"
                  class="form-control"
                  placeholder="Quantas portas tem o carro?"
                  formControlName="portas"
                  name="portas"
                  required
                />
                <p
                  class="mensagem-erro"
                  role="alert"
                  *ngIf="errors && errors.errors && errors.errors['Portas']"
                >
                  informe um valor válido.
                </p>
              </label>
            </div>
          </form>
          <div class="buttons">
            <button
              type="button"
              class="btn btn-lg btn-adc-car"
              (click)="create()"
              [disabled]="form.invalid"
            >
              Adicionar
            </button>
            <button
              type="button"
              class="btn btn-primary btn-lg btn-voltar"
              data-bs-dismiss="modal"
            >
              Fechar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <section class="container-table">
    <app-table [dados]="dados"></app-table>
  </section>
</main>
